# 软件截图：

![image](https://github.com/user-attachments/assets/5b9d6ea8-43cc-4d64-93eb-0b491ffbb961)

![image](https://github.com/user-attachments/assets/74fe4375-b80d-461e-944b-c274828f84b5)

![image](https://github.com/user-attachments/assets/61f97934-ecbc-4ea9-bae2-8d12cb3527b5)

![image](https://github.com/user-attachments/assets/a418b1cc-fbcc-4352-9281-d9cccd31910e)

# 多文件十六进制比对工具 - 全方位详细说明书

## 目录
1. [项目概述](#项目概述)
2. [功能特点](#功能特点)
3. [适用人群](#适用人群)
4. [安装与运行](#安装与运行)
5. [用户界面详解](#用户界面详解)
6. [基本使用教程](#基本使用教程)
7. [高级功能指南](#高级功能指南)
8. [技术原理](#技术原理)
9. [应用场景举例](#应用场景举例)
10. [常见问题解答](#常见问题解答)
11. [版本更新历史](#版本更新历史)
12. [版权与许可](#版权与许可)
13. [技术支持](#技术支持)

---

## 项目概述

多文件十六进制比对工具是一款专业的二进制文件分析软件，专为需要比较多个文件二进制差异的用户设计。它采用直观的十六进制视图展示文件内容，支持多文件同时打开和比对，提供编辑模式和差异高亮显示功能，特别适合软件开发人员、逆向工程师、数字取证专家等专业人士使用。

### 核心价值
- **多文件比对**：同时比对2个及以上文件的二进制差异
- **直观展示**：十六进制与ASCII双视图同步显示
- **编辑功能**：直接修改文件字节内容
- **差异高亮**：自动标记不同文件间的差异位置
- **同步滚动**：多文件视图同步滚动便于对比分析

---

## 功能特点

### 基础功能
1. **多文件支持**：可同时打开多个文件进行比对
2. **十六进制视图**：以十六进制格式显示文件内容
3. **ASCII视图**：同步显示可打印字符
4. **地址显示**：显示每行数据的偏移地址
5. **文件信息**：显示文件名、大小和完整路径

### 高级功能
1. **差异比对**：
   - 双文件比对（基础模式）
   - 多文件比对（高级模式，找出所有文件中的不一致点）
2. **编辑模式**：
   - 直接编辑十六进制值
   - 实时更新ASCII显示
3. **视图同步**：
   - 垂直滚动同步
   - 水平滚动同步
4. **差异高亮**：
   - 整行背景高亮
   - 差异字节特殊标记
5. **历史记录**：自动记录最近打开的文件

### 专业功能
1. **字节级分析**：精确到单个字节的比对
2. **大文件支持**：优化处理大型二进制文件
3. **内存管理**：高效的内存使用机制
4. **数据库支持**：使用SQLite存储设置和历史记录

---

## 适用人群

### 非技术人员
- **普通用户**：好奇文件内部结构的电脑爱好者
- **学生**：学习计算机基础知识的辅助工具
- **教师**：用于计算机原理教学的演示工具

### 技术人员
- **程序员**：分析编译后的二进制文件
- **逆向工程师**：研究软件内部机制
- **安全研究员**：分析恶意软件或漏洞
- **游戏修改者**：查找和修改游戏存档
- **数字取证专家**：分析磁盘映像和数字证据

### 行业应用
- **软件开发**：版本差异分析
- **网络安全**：恶意代码分析
- **电子取证**：数据恢复与验证
- **制造业**：固件比对
- **科研机构**：实验数据比对

---

## 安装与运行

### 系统要求
- 操作系统：Windows 7/10/11，Linux（需兼容QT），macOS
- Python版本：3.6及以上
- 依赖库：PyQt5，sqlite3

### 安装步骤
1. 确保已安装Python 3.6+
2. 安装必要依赖：
   ```bash
   pip install PyQt5
   ```
3. 下载程序文件：
   - 从GitHub仓库下载`Hex_Viewer.py`
   - 或克隆整个仓库：
     ```bash
     git clone https://github.com/duma520/hex-viewer.git
     ```

### 运行方法
```bash
python Hex_Viewer.py
```

### 可选配置
1. **图标设置**：将`icon.ico`放在同一目录下可自定义窗口图标
2. **字体调整**：修改代码中的字体设置适应不同显示需求

---

## 用户界面详解

### 主窗口布局
1. **顶部工具栏**：
   - 打开文件按钮
   - 清除所有按钮
   - 比对按钮
   - 编辑模式切换
   - 多基准比对按钮

2. **文件列表区**：
   - 显示已打开文件的文件名、大小和路径
   - 支持单选查看特定文件

3. **十六进制显示区**：
   - 左侧：偏移地址
   - 中部：十六进制字节值
   - 右侧：ASCII字符表示

4. **状态栏**：
   - 显示当前状态信息
   - 比对结果统计

### 界面元素功能说明
1. **地址列**：显示当前行第一个字节在文件中的偏移位置（十六进制）
2. **十六进制列**：每字节以2位十六进制数显示
3. **ASCII列**：可打印字符直接显示，不可打印字符显示为"."
4. **差异高亮**：
   - 浅黄色背景：包含差异的行
   - 浅红色背景：具体差异的字节

---

## 基本使用教程

### 第一步：打开文件
1. 点击"打开文件"按钮
2. 选择要比对的文件（可多选）
3. 文件将显示在列表中

*示例*：比较两个版本的配置文件`config_v1.bin`和`config_v2.bin`

### 第二步：查看文件内容
1. 在文件列表点击选择文件
2. 十六进制视图将显示文件内容
3. 使用滚动条浏览整个文件

### 第三步：比对文件
1. 确保至少两个文件已打开
2. 点击"开始比对"按钮
3. 差异位置将自动高亮显示

*注意*：第一个打开的文件将作为比对基准

### 第四步：使用编辑模式
1. 点击"编辑模式"按钮进入编辑状态
2. 双击十六进制值进行修改
3. 修改后ASCII视图将自动更新

*专业提示*：编辑前建议备份原始文件

---

## 高级功能指南

### 多基准比对
1. 打开三个及以上文件
2. 点击"多基准比对"按钮
3. 系统会找出所有文件中不一致的字节位置

*应用场景*：分析多个设备生成的日志文件，找出异常数据

### 同步滚动
1. 滚动任意一个文件的视图
2. 其他文件视图将同步滚动
3. 保持比对位置一致

*专业技巧*：使用水平同步比较同一偏移的不同值

### 历史记录管理
1. 程序自动记录最近打开的文件
2. 存储在SQLite数据库中
3. 路径：`hexviewer_settings.db`

---

## 技术原理

### 文件处理机制
1. **文件读取**：以二进制模式读取文件内容到内存
2. **内存表示**：使用Python `bytearray`存储文件内容
3. **视图生成**：动态计算每行16字节的显示格式

### 比对算法
1. **逐字节比较**：按偏移位置逐个比较字节值
2. **差异检测**：
   ```python
   for i in range(max_len):
       byte_values = {content[i] for _, content in files}
       if len(byte_values) > 1:
           differences[i] = True
   ```

### 同步滚动实现
1. 捕获滚动条`valueChanged`信号
2. 同步设置其他视图的滚动位置
3. 防止递归的信号阻塞机制

---

## 应用场景举例

### 软件开发
*场景*：比较两个版本的固件二进制
1. 打开旧版和新版固件
2. 执行比对
3. 定位变更的代码区域

### 数字取证
*场景*：分析磁盘镜像
1. 打开正常系统和被入侵系统的关键文件
2. 使用多基准比对
3. 识别被篡改的数据区域

### 游戏修改
*场景*：修改游戏存档
1. 打开存档文件
2. 进入编辑模式
3. 修改特定位置的数值

### 科研实验
*场景*：比对实验数据
1. 记录多组实验的二进制输出
2. 使用多文件比对
3. 统计数据差异分布

---

## 常见问题解答

### 一般问题
Q：为什么打开大文件很慢？
A：程序将整个文件读入内存以便编辑，建议使用专业工具处理超大文件

Q：编辑后如何保存文件？
A：当前版本需要手动复制修改后的内容，未来版本将添加保存功能

### 技术问题
Q：比对结果显示不一致但看起来数据相同？
A：可能是编码或字节序问题，检查显示设置

Q：如何提高比对速度？
A：减少同时打开的文件数量，或使用更专业的二进制比较工具

### 使用技巧
- 使用`Ctrl+F`在代码中添加搜索功能
- 修改颜色定义可自定义高亮样式
- 添加书签功能可标记重要位置

---

## 版本更新历史

### 版本 3.9.0 (2025-05-26)
- 新增多基准比对功能
- 优化内存管理机制
- 修复编辑模式下的同步问题
- 改进差异高亮算法

### 版本 3.8.0
- 添加SQLite数据库支持
- 实现文件历史记录功能
- 优化界面布局
- 修复大文件处理bug

### 版本 3.7.0
- 引入编辑模式
- 添加字节修改功能
- 改进滚动同步机制
- 增强差异可视化

---

## 版权与许可

### 版权声明
© 永久 杜玛 保留所有权利

### 许可协议
MIT License

### 使用限制
- 禁止用于非法用途
- 禁止去除版权信息
- 商业使用需获得授权

---

## 技术支持

### 支持渠道
- GitHub Issues：https://github.com/duma520/hex-viewer/issues
- 项目Wiki：https://github.com/duma520/hex-viewer/wiki

### 支持政策
- 不提供私人邮箱支持
- 优先处理GitHub上的公开问题
- 欢迎提交Pull Request

### 社区资源
- 示例文件库
- 使用教程视频
- 开发者论坛

---

*最后更新：2025-05-29*  
*文档版本：3.9.0*  
*祝您使用愉快！*
